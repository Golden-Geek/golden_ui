@import "./colors.css";
@import './fonts.css';


body,
html {
    margin: 0;
    padding: 0;

    width: 100%;
    height: 100%;

    overflow: hidden;
    font-family: var(--gc-font-sans);
    font-optical-sizing: auto;
    background-color: var(--gc-color-background);

    color: var(--gc-color-text);
}

/* MAIN LAYOUT */


.gc-main {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    user-select: none;
}

.gc-header {
    flex: 0 0 2rem;
    padding-inline: 0.75rem;
    display: flex;
    align-items: center;
    background-color: var(--gc-color-header);
    cursor: grab;
    user-select: none;
    -webkit-user-select: none;
    app-region: drag;
    -webkit-app-region: drag;
    position: relative;
    z-index: 2;

    box-shadow: 0 .05rem .6rem rgba(0, 0, 0, .6);
    border-bottom: solid .05rem rgba(255, 255, 255, 0.05);


}

.gc-header:active {
    cursor: grabbing;
}

.gc-header :is(button, input, textarea, select, a, [data-no-drag]) {
    app-region: no-drag;
    -webkit-app-region: no-drag;
}

.gc-header .spacer {
    flex: 1 1 auto;
}


.gc-header .app-buttons button {
    background: transparent;
    border: none;
    box-shadow: none;
    color: #555555;
    filter: grayscale(90%);
    opacity: 0.5;
    transition: filter 0.2s, opacity 0.2s;
}

.gc-header .app-buttons button:hover {
    filter: grayscale(0%);
    color: #ff5555;
    opacity: 1;
}

.gc-footer {
    flex: 0 0 2rem;

    background-color: var(--gc-color-footer);

    box-shadow: 0 -.05rem .6rem rgba(0, 0, 0, .6);
    border-top: solid .05rem rgba(255, 255, 255, 0.05);

}

.gc-content {
    flex-grow: 1;
    min-block-size: 0;
    display: flex;
    padding: .25rem;
    app-region: no-drag;
    -webkit-app-region: no-drag;
    overflow: hidden;
}

.gc-content * {
    app-region: no-drag;
    -webkit-app-region: no-drag;
}


/* COMMON */

button {
    background: transparent;
    border: none;
    display: inline-block;
    align-items: center;
    justify-content: center;
}

input,
select {
    background: rgba(255, 255, 255, .1);
    border: solid 1px rgba(255, 255, 255, .1) !important;
    border-radius: .3rem;
    /* outline-color : rgba(255,255,255,0); */
    /* outline: none !important; */
    /* no border for input */
    color: rgba(var(--gc-color-text), 0.5);
    transition: border-color 0.2s, box-shadow 0.2s;
    font-family: var(--gc-font-sans) !important;
    font-optical-sizing: auto !important;
}

input[type="text"]:focus,
input[type="number"]:focus,
input[type="password"]:focus,
select:focus {
    outline: none !important;
    border-color: var(--gc-color-focus) !important;
    box-shadow: 0 0 0 0.1rem rgba(from var(--gc-color-focus) r g b / 20%);
}


input[type="text"]:disabled,
input[type="number"]:disabled,
input[type="password"]:disabled {
    pointer-events: none;
    touch-action: none;
    background-color: var(--gc-color-input-disabled-bg);
    color: rgba(from var(--gc-color-text) r g b / 50%);
}

input[type="text"].readonly,
input[type="number"].readonly,
input[type="password"].readonly,
select.readonly {
    pointer-events: none;
    touch-action: none;
    background-color: rgb(from var(--gc-color-readonly) r g b / 20%) !important;
    color: rgba(from var(--gc-color-text) r g b / 50%);
}

select.readonly
{
    appearance: none;
    -webkit-appearance: none;
}


/* Checkbox */
input[type="checkbox"] {
    width: 1rem;
    height: 1rem;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-color: var(--gc-color-checkbox-bg);
    /* dark background by default */
    border: solid 1px rgba(from var(--gc-color-checkbox-fg) r g b / 40%) !important;
    border-radius: .25rem;
    cursor: pointer;
    position: relative;
    margin: 0;
    box-sizing: border-box;
    transition: background-color 200ms ease, border-color 200ms ease, filter 200ms ease;
}

input[type="checkbox"]:hover {
    border-color: var(--gc-color-checkbox-fg) !important;
    filter: brightness(1.5);
}

/* Keep background dark when checked, show pink check mark */
input[type="checkbox"]:checked {
    border-color: var(--gc-color-checkbox-fg) !important;
    /* pink border when checked */

}

/* The check mark */
input[type="checkbox"]::after {
    content: "";
    position: absolute;
    left: .25rem;
    top: .03rem;
    width: .2rem;
    height: .5rem;
    border-width: 0 3px 3px 0;
    transform: rotate(45deg);
    border-color: transparent;
    border-style: solid;
    opacity: 0;
    transition: opacity 120ms ease, border-color 120ms ease;
}

input[type="checkbox"]:checked::after {
    border-color: var(--gc-color-checkbox-fg);
    opacity: 1;
}

input[type="checkbox"]:disabled {
    opacity: 0.3;
    border-color: var(--gc-color-checkbox-fg);
}

input[type="checkbox"].readonly {
    border-color: rgb(from var(--gc-color-readonly) r g b / 40%) !important;
    background-color: rgb(from var(--gc-color-readonly) r g b / 30%) !important;
}

input[type="checkbox"].readonly:checked::after {
    border-color: rgb(from var(--gc-color-readonly) r g b / 50%) !important;
}

/* Select */

select {
    background-color: var(--gc-color-dropdown-bg);
    -webkit-appearance: none;
    appearance: none;
    background-image: url('icons/arrow_down.svg');
    background-repeat: no-repeat;
    background-position: right 0.5rem center;
    background-size: 1rem;
    border: 1px solid #AAA;
    padding: 4px;
    -webkit-padding-end: 30px;
}

.arrow {
    width: 1rem;
    height: 1rem;
    background: url("icons/arrow.svg") center center no-repeat;
    background-size: contain;
    opacity: 0.5;
    transition: transform 0.2s, opacity 0.2s;
    cursor: pointer;
}

.arrow:hover {
    opacity: 1;
}

.arrow.down {
    transform: rotate(90deg);
}

.arrow.up {
    transform: rotate(-90deg);
}

/* Dragging cursor hiding */
.slider-hide-cursor * {
    cursor: none !important;
}

/* Custom dark mode, rounded scrollbar */
::-webkit-scrollbar {
    width: .3rem;
    height: .3rem;
    background: rgba(255, 255, 255, .1);
    border-radius: 1rem;
}

::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.30);
    border-radius: 1rem;
    transition: background-color 1s ease;
}

::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.6);
}

/* NODES */

.node-icon {
    width: 1.2rem;
    height: 1.2rem;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center center;
    background-image: var(--icon);
}


/* DOCKVIEW STYLING */
.gc-dockview {
    inline-size: 100%;
    block-size: 100%;
    min-block-size: 22rem;
    overflow: hidden;
    padding: .25rem;
    box-sizing: border-box;
    border: none;
}

.gc-dockview .gc-dock-panel-host {
    inline-size: 100%;
    block-size: 100%;
}

.gc-dockview .dockview-theme-golden {
    box-sizing: border-box;
    inline-size: 100%;
    block-size: 100%;
    background-color: transparent;
    border: none;

    --dv-paneview-active-outline-color: var(--gc-color-focus);
    --dv-tabs-and-actions-container-font-size: 0.78rem;
    --dv-tabs-and-actions-container-height: 2rem;
    --dv-drag-over-border: 0.125rem solid var(--gc-color-dock-drag-border);
    --dv-drag-over-background-color: var(--gc-color-dock-drag-overlay);
    --dv-tabs-container-scrollbar-color: var(--gc-color-dock-scrollbar);
    --dv-icon-hover-background-color: var(--gc-color-dock-icon-hover);
    --dv-floating-box-shadow: 0 0.6rem 1rem 0 var(--gc-color-dock-shadow);
    --dv-tab-font-size: 0.78rem;
    --dv-border-radius: 0.3rem;
    --dv-tab-margin: 0.35rem 0.2rem;
    --dv-sash-color: var(--gc-color-dock-sash);
    --dv-active-sash-color: var(--gc-color-dock-sash-active);
    --dv-active-sash-transition-duration: 0.2s;
    --dv-active-sash-transition-delay: 0s;
    --dv-group-view-background-color: var(--gc-color-dock-group-background);
    --dv-group-view-border: none;
    --dv-tabs-and-actions-container-background-color: var(--gc-color-dock-tabbar-background);
    --dv-activegroup-visiblepanel-tab-background-color: var(--gc-color-dock-tab-active-background);
    --dv-activegroup-hiddenpanel-tab-background-color: var(--gc-color-dock-tab-hidden-background);
    --dv-inactivegroup-visiblepanel-tab-background-color: var(--gc-color-dock-tab-inactive-background);
    --dv-inactivegroup-hiddenpanel-tab-background-color: var(--gc-color-dock-tab-inactive-hidden-background);
    --dv-activegroup-visiblepanel-tab-color: var(--gc-color-dock-tab-active-text);
    --dv-activegroup-hiddenpanel-tab-color: var(--gc-color-dock-tab-hidden-text);
    --dv-inactivegroup-visiblepanel-tab-color: var(--gc-color-dock-tab-inactive-text);
    --dv-inactivegroup-hiddenpanel-tab-color: var(--gc-color-dock-tab-inactive-hidden-text);
    --dv-tab-divider-color: var(--gc-color-dock-tab-divider);
    --dv-separator-border: var(--gc-color-dock-separator);
    --dv-paneview-header-border-color: var(--gc-color-dock-separator);

    .dv-drop-target-container {
        --dv-transition-duration: 0.3s;
    }

    .dv-drop-target {
        --dv-transition-duration: 0.07s;
    }

    .dv-resize-container:has(> .dv-groupview) {
        border-radius: 0.2rem;
    }

    .dv-resize-container {
        border-radius: var(--dv-border-radius) !important;
        border: none;
    }

    .dv-split-view-container .dv-view-container .dv-view {
        overflow: visible !important;
    }

    .dv-groupview {
        box-sizing: border-box;
        border-radius: .6rem;
        border: solid .05rem rgba(255, 255, 255, 0.05);
        background-color: var(--gc-color-panel);
        box-shadow: .05rem .05rem .6rem rgba(0, 0, 0, .6);
        padding: .25rem;
        overflow: visible !important;

        .dv-content-container {
            background-color: var(--dv-group-view-background-color);
        }
    }


    .dv-tabs-overflow-container,
    .dv-tabs-overflow-dropdown-default,
    .dv-tab {
        border-radius: 0.6rem;
    }

    .dv-tabs-overflow-container,
    .dv-tabs-overflow-dropdown-default {
        height: unset !important;
    }

    .dv-tab .dv-default-tab .dv-default-tab-content {
        font-weight: 600;
        letter-spacing: 0.02em;
        border: none;
    }

    .dv-tab {
        padding: 0 0 0 0.4rem;
    }

    .gc-dv-tab {
        inline-size: 100%;
        block-size: 100%;
        display: flex;
        align-items: center;
        gap: 0.4rem;
        box-sizing: border-box;
    }

    .gc-dv-tab-label {
        flex: 1 1 auto;
        min-inline-size: 0;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-weight: 600;
        letter-spacing: 0.02em;
    }

    .gc-dv-tab-close {
        border: none;
        width: 1.2rem;
        height: 1.2rem;
        background: url("icons/panels/close.svg") center center no-repeat;
        background-size: contain;
        color: inherit;
        cursor: pointer;
        position: relative;
        opacity: 0.86;
        filter: grayscale(90%);
        transition: opacity 0.2s, filter 0.2s;
    }

    .gc-dv-tab-close:hover {
        opacity: 1;
        filter: grayscale(0%) drop-shadow(0 0 0.3rem rgba(255, 50, 0, 0.5));
    }


    .gc-group-panel-add-trigger {
        width: 1.2rem;
        height: 1.2rem;
        background: url("icons/panels/add_tab.svg") center center no-repeat;
        background-size: contain;
        opacity: 0.8;
        filter: grayscale(90%);
        transition: opacity 0.2s, filter 0.2s;
    }


    .gc-group-panel-add-trigger:hover {
        opacity: 1;
        filter: grayscale(0%) drop-shadow(0 0 0.3rem rgba(12, 172, 220, 0.373));
    }

    .gc-group-panel-add-item {
        padding: 0.2rem 0.4rem;
        border-radius: 0.3rem;
        transition: background-color 0.2s;
    }

    .gc-group-panel-add-item:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }



    .dv-tab.dv-active-tab {
        /* outline: 0.0625rem solid var(--gc-color-dock-sash-active); */
        outline-offset: -0.0625rem;
        border: none;
    }

    .dv-tabs-and-actions-container .dv-tabs-container>.dv-tab {
        transition: background-color .2s, color .2s;
    }

    .dv-tab:focus,
    .dv-tab:focus-within,
    .dv-tab.dv-active-tab:focus {
        outline: none;
        border: none;
    }

    .dv-tab:focus::after,
    .dv-tab:focus-within::after {
        outline: none !important;
        box-sizing: border-box;
    }

    .dv-split-view-container>.dv-sash-container>.dv-sash {
        border-radius: 1rem;
    }

    .dv-split-view-container.dv-vertical>.dv-sash-container>.dv-sash {
        width: 80%;
        left: 10% !important;
    }

    .dv-split-view-container.dv-horizontal>.dv-sash-container>.dv-sash {
        height: 80%;
        top: 10% !important;
    }
}